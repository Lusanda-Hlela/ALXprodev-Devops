#!/bin/bash

# Create output directory if it doesn't exist
mkdir -p pokemon_data

# List of Pokémon (all lowercase for API compatibility)
POKEMONS=("bulbasaur" "ivysaur" "venusaur" "charmander" "charmeleon")

for pokemon in "${POKEMONS[@]}"
do
    echo "Fetching data for $pokemon..."

    # Build the API URL
    URL="https://pokeapi.co/api/v2/pokemon/$pokemon"

    # Output file path
    OUT_FILE="pokemon_data/${pokemon}.json"

    # Make the request and save output
    curl -s -f "$URL" -o "$OUT_FILE"

    # Check if the file was successfully saved
    if [ $? -eq 0 ]; then
        echo "Saved data to $OUT_FILE ✅"
    else
        echo "Failed to fetch data for $pokemon ❌"
    fi

    # Add delay to avoid rate limiting
    sleep 1
done
